# 游泳馆会员管理系统

## 项目简介
本系统是一个基于C语言开发的游泳馆会员管理系统，实现了完整的会员管理、管理员权限控制和会员进出场记录功能。系统采用文件存储数据，支持多管理员账户管理，提供命令行交互界面，满足游泳馆日常运营管理需求。

## 功能特性

### 1. 会员管理
- **会员注册**：支持年卡、季卡、月卡、次卡四种会员类型
- **信息修改**：可修改卡号、姓名、性别、生日、手机号、会员类型
- **会员注销**：标记会员为已注销状态（注销后无法入场）
- **会员查询**：支持按卡号/会员ID/手机号查询会员信息

### 2. 管理员系统
- **管理员登录**：身份验证机制（初始账号：admin/123456）
- **会员管理**：注册、修改、注销、查询会员信息
- **密码管理**：修改管理员密码
- **出入记录**：查看会员入场离场历史记录

### 3. 会员服务
- **刷卡入场**：自动记录入场时间，次卡自动扣减次数
- **离场登记**：记录离场时间并计算停留时长
- **信息展示**：实时显示会员信息及有效期/剩余次数

### 4. 数据管理
- **会员数据**：`data/member_in.bat`
- **管理员数据**：`data/admin_in.bat`
- **出入记录**：`data/VenueRecord_info`

## 使用说明

### 编译运行
```bash
# 创建数据目录
mkdir -p data

# 编译项目
gcc main.c admin.c member.c -o swim_manager

# 运行程序
./swim_manager
```

### 主菜单功能
```
======欢迎使用本系统！======
1. 会员服务
2. 管理员登录
0. 退出系统
```

### 会员服务流程
1. 在主菜单选择"1. 会员服务"
2. 输入会员卡号刷卡
3. 系统显示会员信息及操作选项：
   ```
   1. 入场登记
   2. 离场登记
   0. 返回
   ```

### 管理员操作
1. 在主菜单选择"2. 管理员登录"
2. 输入管理员账号密码
3. 管理员菜单选项：
   ```
   -----------管理员页面--------------
   1. 新会员注册
   2. 会员注销
   3. 修改会员信息
   4. 查看会员信息
   5. 查看会员出入记录
   6. 修改密码
   7. 新增管理员
   8. 注销登录
   0. 退出系统
   ```

## 项目结构
```
swim_manager/
├── data/                  # 数据存储目录
├── src/
│   ├── main.c            # 程序入口
│   ├── admin.c           # 管理员功能实现
│   ├── member.c          # 会员功能实现
│   ├── mylib.h           # 数据结构定义
│   └── admin.h           # 管理员功能声明
├── Makefile              # 编译脚本
└── README.md             # 项目说明
```

## 注意事项
1. 首次运行前需创建`data/`目录
2. 次卡会员入场时自动扣减剩余次数（次数不足无法入场）
3. 已注销会员无法进行入场操作
4. 管理员密码修改后立即生效
5. 系统自动记录会员停留时长（精确到小时）

## 技术特点
1. 文件存储数据持久化
2. 时间戳自动转换可读格式
3. 会员ID自动递增生成
4. 严格的输入验证机制
5. 会员状态管理（正常/注销）

欢迎贡献代码或提出改进建议！
